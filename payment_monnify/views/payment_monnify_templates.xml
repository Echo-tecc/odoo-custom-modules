<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Inject Monnify button into Odoo payment form -->
    <template id="payment_monnify_form" inherit_id="payment.payment_form" name="Monnify Payment Form">
        <xpath expr="//div[contains(@class, 'o_payment_form')]" position="inside">

            <div class="monnify-payment-container mt-3" t-if="provider_code == 'monnify'">

                <input type="hidden" name="monnify_api_key" t-att-value="api_key"/>
                <input type="hidden" name="monnify_contract_code" t-att-value="contract_code"/>
                <input type="hidden" name="monnify_reference" t-att-value="monnify_reference"/>
                <input type="hidden" name="amount" t-att-value="amount"/>
                <input type="hidden" name="currency" t-att-value="currency"/>
                <input type="hidden" name="customer_name" t-att-value="customer_name"/>
                <input type="hidden" name="customer_email" t-att-value="customer_email"/>
                <input type="hidden" name="reference" t-att-value="reference"/>
                <input type="hidden" name="api_url" t-att-value="api_url"/>

                <div class="text-center mb-3">
                    <button type="button"
                            class="btn btn-primary btn-lg"
                            id="monnify-pay-button">
                        <i class="fa fa-lock me-2"></i>
                        Pay with Monnify
                    </button>
                </div>

                <div class="text-muted text-center small">
                    <i class="fa fa-shield me-1"></i>
                    Secured by Monnify
                </div>

            </div>

        </xpath>
    </template>

</odoo>
